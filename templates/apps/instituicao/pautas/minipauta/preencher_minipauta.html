<div class="card p-4 shadow rounded">
	<h5 class="mb-4">
		<i class="bi bi-journal-text me-2"></i>Preencher Mini Pauta
	</h5>

	<div class="row g-3">
		<div class="col-md-4">
			<label for="turmaSelect" class="form-label">Turma:</label>
			<div class="input-group has-validation">
				<span class="input-group-text"><i class="bi bi-people"></i></span>
				<select id="turmaSelect" class="form-select" required>
					<option value="">-- Selecione a turma --</option>
					{% for turma in turmas %}
					<option value="{{ turma.id }}">{{ turma.nome }}</option>
					{% endfor %}
				</select>
			</div>
		</div>

		<div class="col-md-4">
			<label for="disciplinaSelect" class="form-label">Disciplina:</label>
			<div class="input-group has-validation">
				<span class="input-group-text"><i class="bi bi-book"></i></span>
				<select id="disciplinaSelect" class="form-select" required>
					<option value="">-- Selecione a disciplina --</option>
					{% for disciplina in disciplinas %}
					<option value="{{ disciplina.id }}">{{ disciplina.nome }}</option>
					{% endfor %}
				</select>
			</div>
		</div>

		<div class="col-md-4">
			<label for="trimestreSelect" class="form-label">Trimestre:</label>
			<div class="input-group has-validation">
				<span class="input-group-text"
					><i class="bi bi-calendar-event"></i
				></span>
				<select id="trimestreSelect" class="form-select" required>
					<option value="">-- Selecione --</option>
					<option value="1">1ยบ Trimestre</option>
					<option value="2">2ยบ Trimestre</option>
					<option value="3">3ยบ Trimestre</option>
				</select>
			</div>
		</div>
	</div>

	<div id="formAlert" class="alert alert-danger mt-4 d-none" role="alert">
		<i class="bi bi-exclamation-triangle me-2"></i>Por favor, selecione todos os
		campos corretamente.
	</div>

	<div class="text-end mt-4">
		<button class="btn btn-primary" onclick="redirecionarMiniPauta()">
			<i class="bi bi-check2-circle me-1"></i> Continuar
		</button>
	</div>
</div>

<script>
	function redirecionarMiniPauta() {
		const turmaId = document.getElementById("turmaSelect").value;
		const disciplinaId = document.getElementById("disciplinaSelect").value;
		const trimestre = document.getElementById("trimestreSelect").value;
		const alertBox = document.getElementById("formAlert");

		if (turmaId && disciplinaId && trimestre) {
			alertBox.classList.add("d-none");
			const url = `/mini_pauta_preencher/${turmaId}/${disciplinaId}/${trimestre}/`;
			window.location.href = url;
		} else {
			alertBox.classList.remove("d-none");
		}
	}
</script>
